<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>REGAPP</title>
	
</h:head>

<h:body style="background-position:center;">

	<h:outputStylesheet library="webjars" name="font-awesome/5.12.0/css/all.min-jsf.css" />
	<h:outputStylesheet library="webjars" name="font-awesome/5.12.0/css/v4-shims.min-jsf.css" />
	<link rel = "stylesheet" type = "text/css" href = "./css/base.css"/>
	
	<h:form >
		<p:toolbar>
        	<f:facet name="left">
           	 	<p:commandButton value="Indietro" title="Vai alla homepage" action="homepage.xhtml"/>
            	<span class="ui-separator" />
            	<p:commandButton type="button" title="Informazioni su domini" icon="fa fa-info" onclick="PF('infoDomainDialog').show()"/>
        	</f:facet>
    	</p:toolbar>
		<br style="visibility:hidden;"/>
		<center>
			<p:tabView style="width:1200px;min-height:500px;" id="cmds" effect="blind">

				<p:tab title="Verifica">
					<center>
						<p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-12 ui-fluid">
							<p:outputLabel value="Verifica che il dominio che vuoi registrare sia disponibile" />
							<p:outputPanel>
								<p:panelGrid columns="3" layout="grid" styleClass="ui-panelgrid-blank">
									<p:outputLabel style="float:right;" value="www." />
									<p:inputText value="#{domainBean.domain.domainName}" />
									<p:outputLabel style="float:left;" value=".it" />
								</p:panelGrid>
							</p:outputPanel>
						</p:panelGrid>
					</center>
				</p:tab>
				<p:tab title="Ricerca">
					<h:form id="searchForm">
						<p:growl id="growl" showDetail="true" sticky="false" severity="info" />
					
						<p:panelGrid style="text-align:center;" columns="3" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-4, ui-grid-col-4 ui-fluid, ui-grid-col-4 ui-fluid">
							<p:outputLabel value="Codice Fiscale" />
							<p:inputText value="#{domainBean.contact.contactId}" />
							<p:commandButton value="Cerca" action="#{domainBean.search}" update="searchForm:results" />
						</p:panelGrid>
					 Nel form non funziona l'action listener col process this, senza form funziona
						<p:outputPanel id="results">
							<p:dataTable headerText="Risultati ricerca" rendered="#{not empty domainBean.searchedDomains}" id="dtDomains" value="#{domainBean.searchedDomains}" var="domain" paginator="true" rows="5" paginatorPosition="bottom" >
        						<p:column style="text-align:center;" headerText="Dominio">
        							<h:outputText value="#{domain.domainName}" />
        						</p:column>
        						<p:column style="text-align:center;" headerText="Registrant">
        							<h:outputText value="#{domain.registrant}"/>
        						</p:column>
        						<p:column style="text-align:center;" headerText="Admin">
        							<h:outputText value="#{domain.admin}" />
        						</p:column>
        						<p:column style="text-align:center;" headerText="DNSSEC">
        							<h:outputText value="#{(domain.dnssec) ? 'Si' : 'No'}" />
        						</p:column>
   							</p:dataTable>
						</p:outputPanel>
					</h:form>
				</p:tab>
				<p:tab title="Creazione">
        		</p:tab>
        	
        		<p:tab title="Modifica">
        		</p:tab>
   			</p:tabView>
   		</center>
	</h:form>
	<p:dialog hideEffect="clip" widgetVar="infoDomainDialog" modal="true">
		<p:outputPanel style="min-heigth:700px;width:700px;">
			<center>
				<p:outputLabel style="font-weight: bold;" value="Dominio .it e edu.it." />
			</center>
			<p:separator />
			<h:outputText value="In Informatica un dominio è un insieme di computer che condividono un database di risorse di rete e che vengono amministrati
			 come un' unità con regole e procedure comuni. La creazione di un dominio con questa APP simula la creazione di un dominio di primo livello con estensione
			 .it. Parallelamente alla creazione di un dominio di primo livello ci sono molte cose che accadono, con questa APP si vuole evidenziare la comunicazione
			 che avviene con il Registro per effettuare la richiesta di creazione e non la creazione stessa." />
		</p:outputPanel>
	</p:dialog>
	
	<center>
	<br/><br/><br/><br/><br/><br/>
		<p:outputPanel style="min-height:60px;width:100%;background-color:grey;"> 
			<p:outputLabel style="float:right; padding:20px;" value="REGAPP by Simone Lungarella" />
		</p:outputPanel>
	</center>
</h:body>

</html>
